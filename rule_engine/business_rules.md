# 业务规则

**ActorCloud** 支持预定义产品传输数据与业务规则，在设备通信中解析设备消息并检查匹配其告警规则，进行告警监控等业务。

### 功能点

点击产品详情页中的功能点即可查看该产品功能点列表。

功能点预先定义了产品在业务逻辑上的数据信息，即实现某个功能需要传输的数据格式、数据方向以及数据规则范围、数据含义等的定义，一个产品可以包含多个功能点。

功能点定义关键信息如下：

- 数据类型：该功能数据的格式，支持数值，枚举，字符串，故障，布尔值等，业务中必须传输 JSON 强类型数据；
- 功能点标识：该功能数据在传输中使用的 JSON key 值；
- 数据传输类型：即该功能数据传输方向，按照实际业务选择。

定义示例：

- 某器件定期上报以监控器件运行温度，超出 5~80 摄氏度范围即需要干预处理，其上报 JSON 数据如下，`temperature` 即为功能点标识：

```
{
  "temperature": 77
}
```

该功能可按照下图定义：

![](/assets/function_create.png)



### 数据流

点击产品详情页中的数据流即可查看该产品数据流列表。

数据流将多个使用同一主题通信的功能点组合在一起，可关联业务规则进行数据解析并匹配告警规则进行告警监控等业务。

数据流定义关键信息如下：

- 功能点：请选择使用同一主题通信且业务上相近的功能点；
- 数据流主题：数据流用于通信的主题；
- 流类型：数据方向（上报与下发）。

定义示例：

- 温度范围监控与紧急温度监控两个功能的数据都是通过 `/temperature` 主题上报，且其业务相近，可以组合为一个功能点：

![](/assets/stream_create.png)